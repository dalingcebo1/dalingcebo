// Script to insert paintings from catalog into Supabase
// Run with: node scripts/insert-paintings.mjs

import { createClient } from '@supabase/supabase-js'
import dotenv from 'dotenv'
import path from 'path'
import { fileURLToPath } from 'url'

const __filename = fileURLToPath(import.meta.url)
const __dirname = path.dirname(__filename)

// Load environment variables from .env.local
dotenv.config({ path: path.join(__dirname, '..', '.env.local') })

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL
const supabaseServiceKey = process.env.SUPABASE_SERVICE_KEY

if (!supabaseUrl || !supabaseServiceKey) {
  console.error('‚ùå Missing Supabase credentials in .env.local')
  console.error('Please set NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_KEY')
  process.exit(1)
}

const supabase = createClient(supabaseUrl, supabaseServiceKey)

// Google Drive image URLs (need to be converted to direct download links)
// Format: https://drive.google.com/uc?export=download&id=FILE_ID
const imageUrls = {
  1: 'https://drive.google.com/uc?export=download&id=1aJa_bf6oKh_MIo70s0YuLm6BWrbD6U2l',
  2: 'https://drive.google.com/uc?export=download&id=1CcykEi9aU0lCA83r3NvDFe1Z4Ckg7NR9',
  3: 'https://drive.google.com/uc?export=download&id=1NsgsY3C-6exYItdNDAu8JAaGWjjCBOfO',
  4: 'https://drive.google.com/uc?export=download&id=1kPuN7XIjhm_D0BAUgzBACuVH0rSoEhE5',
  5: 'https://drive.google.com/uc?export=download&id=1ZpLRHqJCh1fPpgTaWB4Z9Zymcw6QvgVv',
}

const paintings = [
  {
    title: 'Strong Woman',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'An offensive way to refer to a strong woman.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: imageUrls[1] || '/images/placeholder.jpg',
    images: [imageUrls[1] || '/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative'],
  },
  {
    title: 'Barren',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'A powerful exploration of emptiness and resilience.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: imageUrls[2] || '/images/placeholder.jpg',
    images: [imageUrls[2] || '/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative'],
  },
  {
    title: '88 Paulshof',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'An offensive way to refer to a strong woman.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: imageUrls[3] || '/images/placeholder.jpg',
    images: [imageUrls[3] || '/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative'],
  },
  {
    title: 'breaking bad',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'A striking composition exploring moral complexity.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: imageUrls[4] || '/images/placeholder.jpg',
    images: [imageUrls[4] || '/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative'],
  },
  {
    title: 'All Music is evil',
    artist: 'Dalingcebo Ngubane',
    price: 60000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '146 √ó 106 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'A bold statement on cultural perception and judgment.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: imageUrls[5] || '/images/placeholder.jpg',
    images: [imageUrls[5] || '/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'music'],
  },
  {
    title: 'Music 2',
    artist: 'Dalingcebo Ngubane',
    price: 20000,
    category: 'Contemporary Art',
    scale: 'small',
    size: '146 √ó 39 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Part of the Music series exploring sound and movement.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'music', 'series'],
  },
  {
    title: 'Music 3',
    artist: 'Dalingcebo Ngubane',
    price: 20000,
    category: 'Contemporary Art',
    scale: 'small',
    size: '146 √ó 32.5 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Part of the Music series exploring sound and movement.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'music', 'series'],
  },
  {
    title: 'Music 1',
    artist: 'Dalingcebo Ngubane',
    price: 20000,
    category: 'Contemporary Art',
    scale: 'small',
    size: '146 √ó 33 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Part of the Music series exploring sound and movement.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'music', 'series'],
  },
  {
    title: 'We love you',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Not professed while there was time. please.dont.forget.me',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'emotional'],
  },
  {
    title: 'Women of the Village ?',
    artist: 'Dalingcebo Ngubane',
    price: 0, // SOLD
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'A celebration of community and collective strength.',
    details: 'SOLD',
    in_stock: false,
    inventory: 0,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'sold'],
  },
  {
    title: 'Clapping Figures',
    artist: 'Dalingcebo Ngubane',
    price: 0, // SOLD
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'I dare you to clap your hands twice, Right Now.',
    details: 'SOLD',
    in_stock: false,
    inventory: 0,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'sold'],
  },
  {
    title: 'sun-kissed',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'What it feels like to walk on burning sand. Not all unpleasant experiences are pleasant.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'nature'],
  },
  {
    title: 'Ponta',
    artist: 'Dalingcebo Ngubane',
    price: 20000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Two years ago the Northern region of Mozambique was under siege from a militia group. It resulted in the loss of more than 3 000 lives.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'political', 'mozambique'],
  },
  {
    title: 'Worth',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'An exploration of value, dignity, and self-recognition.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative'],
  },
  {
    title: 'Glory',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: "We'll hold each other again in heaven.",
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'spiritual'],
  },
  {
    title: 'Tropical crush',
    artist: 'Dalingcebo Ngubane',
    price: 36000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'As we flew over the ditch I felt life come back to me. But now my neck is no good.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative'],
  },
  {
    title: 'Paulshof, 2024',
    artist: 'Dalingcebo Ngubane',
    price: 36000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'I see myself for the first time.',
    details: '',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'self-portrait'],
  },
  {
    title: 'Beautiful People',
    artist: 'Dalingcebo Ngubane',
    price: 60000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '137 √ó 130 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'A painting about you and I.',
    details: 'Part of the FREE SERIES',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series'],
  },
  {
    title: 'Thank You',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'It takes a village to raise a child.',
    details: 'Part of the FREE SERIES',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series', 'community'],
  },
  {
    title: 'Romance',
    artist: 'Dalingcebo Ngubane',
    price: 35000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Is three really a crowd?',
    details: 'Part of the FREE SERIES',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series', 'love'],
  },
  {
    title: 'Me you and Yellow Duck',
    artist: 'Dalingcebo Ngubane',
    price: 36000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Do you remember those child care ads we never got to experience?',
    details: 'Part of the FREE SERIES',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series', 'childhood'],
  },
  {
    title: 'You and your sisters',
    artist: 'Dalingcebo Ngubane',
    price: 0, // Price not specified
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'A celebration of sisterhood and familial bonds.',
    details: 'Part of the FREE SERIES - Price upon inquiry',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series', 'family'],
  },
  {
    title: 'Snowparty and unicorns',
    artist: 'Dalingcebo Ngubane',
    price: 50000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'A whimsical exploration of fantasy and celebration.',
    details: 'Part of the FREE SERIES - USD 2,000 / R50,000',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series', 'fantasy'],
  },
  {
    title: 'Shy Cheerleaders',
    artist: 'Dalingcebo Ngubane',
    price: 50000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'An exploration of public performance and private vulnerability.',
    details: 'Part of the FREE SERIES - USD 2,000 / R50,000',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series'],
  },
  {
    title: 'Grief, yikes!',
    artist: 'Dalingcebo Ngubane',
    price: 0, // SOLD
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Something profoundly sad happened. Get over yourself.',
    details: 'Part of the FREE SERIES - SOLD',
    in_stock: false,
    inventory: 0,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series', 'sold', 'emotional'],
  },
  {
    title: 'Working girls',
    artist: 'Dalingcebo Ngubane',
    price: 36000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'Working boy too. he. works. really. hard.',
    details: 'Part of the FREE SERIES',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series', 'labor'],
  },
  {
    title: 'there is no word for a parent who loses a child',
    artist: 'Dalingcebo Ngubane',
    price: 36000,
    category: 'Contemporary Art',
    scale: 'large',
    size: '110 √ó 80 cm',
    year: 2024,
    medium: 'Oil on canvas',
    description: 'America needs to do away with guns and I need to stop idolizing Kanye West.',
    details: 'Part of the FREE SERIES - USD 2,000 / R36,000',
    in_stock: true,
    inventory: 1,
    edition: 'Original',
    image: '/images/placeholder.jpg',
    images: ['/images/placeholder.jpg'],
    tags: ['contemporary', 'figurative', 'free-series', 'political', 'grief'],
  },
]

async function insertPaintings() {
  console.log('üé® Inserting paintings into Supabase...')
  console.log(`üìù Total paintings to insert: ${paintings.length}`)
  
  try {
    // Insert paintings in batches to avoid timeout
    const batchSize = 10
    let inserted = 0
    
    for (let i = 0; i < paintings.length; i += batchSize) {
      const batch = paintings.slice(i, i + batchSize)
      
      const { data, error } = await supabase
        .from('artworks')
        .insert(batch)
        .select()

      if (error) {
        console.error(`‚ùå Error inserting batch ${i / batchSize + 1}:`, error.message)
        continue
      }

      inserted += data.length
      console.log(`‚úÖ Inserted batch ${i / batchSize + 1}: ${data.length} paintings`)
      
      // Display inserted paintings
      data.forEach(artwork => {
        console.log(`  - ${artwork.title} (${artwork.size}) - R${artwork.price.toLocaleString()}`)
      })
    }

    console.log(`\n‚ú® Successfully inserted ${inserted} paintings!`)
    console.log('\n‚ö†Ô∏è  NOTE: Image URLs are currently placeholders.')
    console.log('To update with actual images:')
    console.log('1. Upload images to Supabase Storage or make Google Drive links public')
    console.log('2. Update the image URLs in the database')
    
  } catch (error) {
    console.error('‚ùå Failed to insert paintings:', error)
  }
}

// Run the script
insertPaintings()
